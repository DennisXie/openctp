from ctpsettle import TransactionsHandler


handler = TransactionsHandler()

text = """                                                                 成交记录 Transaction Record 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|成交日期| 投资单元 | 交易所 | 交易编码  |       品种       |      合约      |买/卖|   投/保    |  成交价  | 手数 |   成交额   |       开平       |  手续费  |  平仓盈亏  |     权利金收支      |     成交序号     |   资金账号   |
|  Date  |InvestUnit|Exchange|tradingcode|     Product      |   Instrument   | B/S |    S/H     |   Price  | Lots |  Turnover  |       O/C        |   Fee    |Realized P/L|Premium Received/Paid|     Trans.No.    |   AccountID  |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|20230215|203199    |上期所  |9999203177 |白银              |     ag2306     |   卖|投机        |  4946.000|     4|   296760.00|平今                |      0.00|      240.00|                 0.00|76886             |203199        |
|20230215|203199    |上期所  |9999203177 |白银              |     ag2306     |买   |投机        |  4927.000|     4|   295620.00|开                 |      2.96|        0.00|                 0.00|168930            |203199        |
|20230215|203199    |上期所  |9999203177 |白银              |     ag2306     |买   |投机        |  4942.000|     4|   296520.00|开                 |      2.97|        0.00|                 0.00|72736             |203199        |
|20230215|203199    |上期所  |9999203177 |白银              |     ag2306     |   卖|投机        |  4927.000|     2|   147810.00|开                 |      1.48|        0.00|                 0.00|167995            |203199        |
|20230215|203199    |上期所  |9999203177 |黄金              |     au2308     |   卖|投机        |   413.100|     2|   826200.00|开                 |      4.00|        0.00|                 0.00|168738            |203199        |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|共   5条|          |        |           |                  |                      |            |          |    16|  1862910.00|                  |     11.41|      240.00|                 0.00|                  |              |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
能源中心---INE  上期所---SHFE   中金所---CFFEX  大商所---DCE   郑商所---CZCE   广期所---GFEX
买---Buy   卖---Sell
投机---Speculation  套保---Hedge  套利---Arbitrage  一般---General  交易---Trade  做市商---Market Maker
开---Open 平---Close 平今---Close Today 强平---Forced Liquidation 平昨---Close Prev. 强减---Forced Reduction 本地强平---Local Forced Liquidation 
"""

lines = text.split("\n")
print(lines)
result = handler.parse(lines)
print(result)
