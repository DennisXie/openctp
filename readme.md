## **CTP开放平台（Powered by TTS - Tick Trading System）**

### Github集 1000 Star，[知乎krenx](https://www.zhihu.com/people/krenx)集 10000 收藏，将开启平台各接口源码开放进程。

开放平台采用与CTPAPI完全兼容的接口，一定程度上可替代simnow等模拟平台进行功能测试。 CTP程序无需修改代码也无需重新编译，只需在这里**下载与CTP API版本号一致的动态库**，覆盖掉自己的即可。

提供CTPAPI 6.3.15、6.3.19、6.5.1、6.6.1、6.6.7全部在用的版本，对应支持win32、win64、linux、MacOS等多个操作系统。

![ctp开放平台全景图](https://user-images.githubusercontent.com/83346523/148639077-6c328032-b75a-4979-be8d-157de60cf3b4.jpg)

### openctp培训与咨询服务
openctp现已推出培训与技术咨询服务，**培训服务**共准备了五期付费培训课程和多期免费公开课，付费培训时间为每个周日晚20:00～21:30，培训方式为腾讯会议，课后可无限回看，课后可无限时间交流，详情请在openctp公众号回复“培训”两个字，培训完成可帮推荐工作，可长期跟同学们沟通交流，培训内容是我个人从业近二十年的技术精华，付费课程需要有一定的C/C++语言基础，完成五期付费课程培训，在金融交易领域的工作应该会得心应手。免费课程时间不确定，请关注openctp公众号了解相关动态。

**咨询服务**为零散问题解答服务，如果你在CTP技术群、编程语言群等等地方问问题没人理你，你可以来咨询我们，这项服务我们是以团队的形式对外进行服务，由各项技术的大厂专家组成，对技术都有丰富的经验和极高的追求，现推广阶段咨询费也很便宜，报名请在openctp公众号回复“咨询”两个字。请注意，咨询不是培训，如果你需要的是系统性的学习，请报相应的培训课程，咨询也不会帮忙写代码，只问诊不开药，也不作任何保证，如果你对自己所提出的问题价值没有概念又很较真，请不要来骚扰。
- CTP接口与业务咨询：1000/年，针对官方技术服务不够的地方作为补充，官方得不到回复或者得不到及时回复的，可以咨询我们。
- 一般技术咨询：3000/年，C/C++、Java、Python、Go等语言基础编程技术咨询，可以作为各语言0基础课程的补充，帮助你更快掌握一门语言。0基础课程均为免费课程，课程安排请关注openctp公众号了解。
- 高级技术咨询：5000/年，可以咨询编程框架、系统架构、业务规划等高阶内容。

### 各期培训内容安排（已完成的课程可至[B站](https://space.bilibili.com/549478063/video)及[西瓜](https://www.ixigua.com/home/4388848858576499/?source=pgc_author_profile&list_entrance=anyVideo)试看）：
- 第一期：[C/C++高级编程](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484363&idx=1&sn=0d74fb1a61e1c595d36527b23eb23323&chksm=c36bd862f41c51749f9490a2b0027fb6a8df53d22c9768b73353a995d7a879171e9fea4d03b4&token=1790747698&lang=zh_CN#rd)，3500元，以Think库为基准进行讲解，含socket网络编程、IPC进程通讯等，已完成一次培训，可直接回看视频。
- 第二期：[CTP技术开发](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484422&idx=1&sn=0165c1b7b5f964ce32c34445d8230f25&chksm=c36bdfaff41c56b9d05870e0d54880a7c62b9dea092372c074b786bc390e5d665fe5e9ef5f84&token=1790747698&lang=zh_CN#rd)，3500元，以openctp相关技术为基准进行讲解，含CTPAPI底层逻辑、CTPAPI各种注意事项、开源CTP客户端TextTrader源码讲解等，已完成一次培训，可直接回看视频。
- 第三期：[交易系统开发](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484574&idx=1&sn=4ff8d92d1f810ad456ac3eda9b3736f7&chksm=c36bdf37f41c5621d1ba8eed48b5ba46a674b57b66ce8e312d364bedec32913b5eb00413fbc4&token=1790747698&lang=zh_CN#rd)，3500元，以TTS交易系统为基准进行讲解，含内存数据库架构技术、双机热备技术、重演技术、业务表结构设计、关键业务处理等。
- 第四期：金融交易业务，3500元，通讲全球股票、期货、期权交易发展历程、交易规则、风险控制及产品设计。
- 第五期：内存数据库架构开发技术，10000元，通过TTS的总线架构技术讲解CTP那样的总线开发技术，包括重演、热备、负载均衡、最短路由等技术，内存计算架构在各行业的高性能通讯方面都可以应用，远不止金融交易领域。

### openctp公开课：
- C语言0基础：以生动有趣的方式讲C语言基础性编程技术，重在兴趣培养和信心建立，11月13号开讲，通过腾讯会议开放式直播，课后会将录制视频放到[B站](https://space.bilibili.com/549478063/video)及[西瓜](https://www.ixigua.com/home/4388848858576499/?source=pgc_author_profile&list_entrance=anyVideo)上。
- C++语言0基础：以生动有趣的方式讲C++语言基础性编程技术。
- Python语言0基础：以生动有趣的方式讲Python语言基础性编程技术。
- Java语言0基础：以生动有趣的方式讲Java语言基础性编程技术。
- Go语言0基础：以生动有趣的方式讲Go语言基础性编程技术。
- Linux环境编程0基础：以生动有趣的方式讲Linux环境编程技术。
- 金融业务、产品设计、软件测试0基础：这期课程主要为女生设计，相比编程，女生在金融领域可能更适合业务、产品与测试层面的工作，将来的职业发展空间也比较大。

### 目录结构：
- 6.3.15 ~ 6.6.7：开放平台标准模拟环境TTS系统的CTPAPI兼容接口，替换CTP官方动态库即可连接TTS系统。
- ctp2IB盈透：盈透证券的CTPAPI兼容接口。
- ctp2OST东方证券：东方证券的CTPAPI兼容接口。
- ctp2中泰证券XTP：中泰证券XTP柜台的CTPAPI兼容接口。
- ctp2华鑫证券STP：华鑫证券奇点柜台的CTPAPI兼容接口。
- ctp2QQ行情：腾讯行情的CTPAPI兼容接口。
- ctp2Sina行情：新浪行情的CTPAPI兼容接口。
- demo：CTPAPI开发相关的demo及工具源码。
- tools：生产力工具。
- docs：开发文档及行业资料。

### 各套环境运行状态监控：
- 监控页面地址：http://121.37.80.177:50080/detail.html
- 使用的技术：https://github.com/krenx1983/openctp/tree/master/tools/Ping
- 相关源码：https://github.com/krenx1983/openctp/tree/master/demo/ctpping

![613dc093f916d1bf0764e5365f202ff](https://user-images.githubusercontent.com/83346523/148802378-2c9b3d3f-1959-4aab-851a-cf55666806d8.png)
### **支持品种：**
- A股股票、债券、基金
- 上期所等国内全品种期货、期权
- 港股、美股全部股票合约模拟交易
- CME等外盘期货品种（即将上线）

### 相对Simnow优点：
- 支持负价交易（负价合约的合约号为MINUS，仅在7x24环境提供）。
- 支持部分撮合、部分撤消。
- 提供各交易所全商品模拟交易。
- 关注“CTP开放平台”公众号即可自动得到一个7x24测试账号及仿真账号，回复“注册仿真”可再注册多个仿真账号，回复“注册24”可再注册多个7x24测试账号，且立即生效。
- QQ群546977604有问必答，解答CTP及各交易相关问题。
- 真正的7x24，1秒钟都不停。
- 除国内期货及期权外，还提供A股股票、债券、基金及港美股、外盘期货等全球市场模拟交易。
- 支持市价单。

### 热门文章：
- [openctp欢迎你](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484484&idx=1&sn=61385fada56d0e4ff620ce15b5dac864&chksm=c36bdfedf41c56fb52d5a200d01cf96be2f3c6578ede02571346717c821c769f192dae4f6a25&token=1790747698&lang=zh_CN#rd)
- [openctp私募成长计划](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484581&idx=1&sn=c8858fdabf575675d6af6eec363c5fa8&chksm=c36bdf0cf41c561a5185e2d5a8f2e69e33f031395afb3c9f9780e6f73f7b1f755eba142c4737&token=1790747698&lang=zh_CN#rd)
- [openctp培训与咨询服务](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484610&idx=1&sn=b7317eb127d22fd52958a41e40121b06&chksm=c36bdf6bf41c567d4f3c16454fc1f5ff2a22f567d893ea35a2135c082b78ce5d01d944b086e4&token=55513683&lang=zh_CN#rd)
- [开放腾讯行情CTPAPI接口源码](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484606&idx=1&sn=270ba6034d9e45334642236dc315b16e&chksm=c36bdf17f41c56011a5a3bf974022c13f53b21b0cad35d43ea85130748152b4f0739e02f7a0e&token=55513683&lang=zh_CN#rd)
- [如何使用CTP开放平台提供的各项能力](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484094&idx=1&sn=97bd791622333886260bf767bea40db1&chksm=c36bd917f41c50016b676b5f5b11f899aea889cd9b10e6724c7fee0ad443f31351f87ff5a4d2&token=1790747698&lang=zh_CN#rd)
- [连接CTP开放平台报错4097的解决方法](https://zhuanlan.zhihu.com/p/453332727)
- [发布一批CTP链路检测工具](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484049&idx=1&sn=ae3b799bc8097750b9bb50f4e1461c07&chksm=c36bd938f41c502e194d7135844db328694c9f791797de5dfc72f5290924359309114d4881e2&token=1790747698&lang=zh_CN#rd)
- [发布一批行情显示工具（命令行版）](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484039&idx=1&sn=794a13777cb358e01c175439e022d99b&chksm=c36bd92ef41c5038224f3b38740b001ef3b36bec89b0ccede51a446039fd1fa679ff7b4bc3b5&token=1790747698&lang=zh_CN#rd)
- [CTP开放平台支撑系统（TTS）架构](https://zhuanlan.zhihu.com/p/367326886)
- [期货交易系统架构演变](https://zhuanlan.zhihu.com/p/360872258)
- [内存数据库交易系统架构第一篇--概览篇](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247483745&idx=1&sn=555d1c26d66f5888f9f043f15335929c&chksm=c36bdac8f41c53de648bb55ae139d6f205827937872a74d6781e55162a7aaae3a1a6ad5acd2c&token=1790747698&lang=zh_CN#rd)
- [内存数据库交易系统架构第二篇--数据恢复机制](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247483797&idx=1&sn=29bba0e8b654ae6db1fc9723e740e88f&chksm=c36bda3cf41c532ae906599a609e6c16dd4700f2a880ab3249e92bf718587f0fced40de47b78&token=1790747698&lang=zh_CN#rd)
- [交易系统的“白”（一）](https://zhuanlan.zhihu.com/p/430975046)
- [TTS风控系统架构设计](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484641&idx=1&sn=11c25f56ecbae67c9c4fec05aebb032d&chksm=c36bdf48f41c565eeef433222d27de73af3c426e9a2a69a8c29e4f55e63dc6f354b5a764957a&token=1220691512&lang=zh_CN#rd)

### 撮合方式（同时支持做市与撮合）：
- 撮合：完全由用户之间撮合，按价格优先、时间优先撮合成交。撮合模式的合约只有三个，合约代码分别为TEST、BTC、MINUS，其它合约均为做市模式。
- 做市：Simnow用的就是做市模式，以实盘行情盘口做市成交，即高于叫卖价的多单立即成交，低于叫买价的空单立即成交，否则挂在队列中等行情符合条件的时候成交。

### 部分成交、部分撤消：
- 模拟撮合在做市处理时对成交数量作了一定的随机处理，可能一次全部成交，可能部分成交并且间隔1秒左右再次撮合，再次撮合的时候如果果盘口不符合成交条件则不会成交。

### **开放平台仿真环境（交易时段与实盘一致）：**
- 交易前置 - tcp://121.36.146.182:20002
- 行情前置 - tcp://121.36.146.182:20004（建议直接使用CTP实盘行情前置，行情前置均不校验密码）

### **开放平台7x24环境（不间断轮播某天行情）：**
- 交易前置 - tcp://121.37.80.177:20002
- 行情前置 - tcp://121.37.80.177:20004

### **开放平台VIP仿真环境（需要付费申请，提供更快的速度、更全的品种，具体[点这里](https://mp.weixin.qq.com/s?__biz=Mzk0ODI0NDE2Ng==&mid=2247484339&idx=1&sn=3c56cb0b201d3635a67f40b78dd7ae98&chksm=c36bd81af41c510c8d8e2ab43396a2de2fc73432f23b3cdff46debb85ec1170856903717a23b&token=1217034697&lang=zh_CN#rd)）：**
- 交易前置 - tcp://42.192.226.242:20002
- 行情前置 - 无（行情需要直连相应通道）

### **模拟账号：** 
扫扫下面的二维码，关注开放平台公众号，即可获得一个7x24账号及一个仿真账号，也可以回复"注册24"或"注册仿真"再申请新的模拟号，一个微信号最多可以申请3个7x24测试账号及3个仿真模拟账号，可以回复"查询"得到已注册的模拟账号列表。7x24与仿真环境独立结算，账号也是独立的，但是密码是同一个，包括vip环境的密码也是同一个，也就是一个微信号申请的所有账号都共用一个密码，可以使用快期等支持修改密码的软件修改任何一个模拟号密码即可。

![qrcode_for_gh_564e4bf4668c_258](https://user-images.githubusercontent.com/83346523/120095274-ad600a00-c157-11eb-8496-7d680bd1f39b.jpg)

### **CTP程序接入股票柜台：**
除提供开放平台模拟交易外，还提供使用CTP接口接入证券柜台的能力，可以进行股票、债券、逆回购、新股申购、融资融券、ETF期权等交易，同样使用CTP接口将证券柜台接口封装成跟CTP完全兼容的动态库，使得CTP程序无需任何修改，只更换CTP动态库即可接入证券柜台，目前已完成华鑫证券、中泰证券股票交易接入功能，同样发布了目前在用的四个CTPAPI版本，分别提供win32、win64、linux三套动态库。

股票接入方式采用**直连证券柜台**方式，不经过开放平台处理，因此需要向证券公司申请模拟账号。
- **华鑫证券**，N视界模拟平台QQ客服群：860160807，加群验证信息填openctp（否则可能通过不了），模拟账号申请地址：http://www.n-sight.com.cn
- **中泰证券**，XTP柜台QQ客服群：188500929，加群验证信息填openctp（否则可能通过不了），模拟账号申请地址：https://xtp.zts.com.cn


### **已官方支持TTS通道（CTP开放平台）的产品：**
- [vn.py（知名Python量化交易客户端，支持全球市场交易）](https://www.vnpy.com/)
<img src="https://user-images.githubusercontent.com/83346523/136988918-1159fc88-073e-4b6f-a8d6-3f33991e8a72.png" alt="vnpy" width="700" height="400" />

- [MT5CTP（MT5软件，已支持国内A股、期货及期权交易，QQ群：967352413）](https://www.zhihu.com/people/mt5ctp)
<img src="https://user-images.githubusercontent.com/83346523/136989596-b12d91e8-48a0-4b26-bcaf-fdfca52d962c.png" alt="mt5ctp" width="700" height="400" />

- [TextTrader（CTP开源命令行交易终端，支持A股、期货及期权交易）](https://github.com/krenx1983/TextTrader)
<img src="https://user-images.githubusercontent.com/83346523/136989754-1f0130e6-5d75-427f-bbf3-7ed084b6eae1.png" alt="texttrader" width="700" height="400" />

- [WonderTrader（一个基于C++核心模块的，适应全市场全品种交易的，高效率、高可用的量化交易开发框架，QQ群：610730738）](https://www.zhihu.com/column/c_1338797723131740161)
<img src="https://user-images.githubusercontent.com/83346523/198839414-d72614d8-9752-497a-b9a9-19b38d3da326.png" alt="WonderTrader" width="700" height="400" />

### **通过自己替换dll可接入TTS通道（CTP开放平台）的产品：**
- [快期V3（CTP期货交易客户端）](https://zhuanlan.zhihu.com/p/376482285)
<img src="https://user-images.githubusercontent.com/83346523/138928402-f7e12a28-50d3-457b-9c0a-32b356448913.png" alt="快期V3" width="700" height="400" />
- [快期V2（CTP期货交易客户端）](https://zhuanlan.zhihu.com/p/432252376)
<img src="https://user-images.githubusercontent.com/83346523/148678947-b2a7ed9c-f77f-43d6-8e85-74b2c9ca4c44.png" alt="快期V2" width="700" height="400" />
- [TBTerminalCTP（交易开拓者）](https://zhuanlan.zhihu.com/p/437818698)
<img src="https://user-images.githubusercontent.com/83346523/149624377-01c97148-9e34-4f2b-8bb3-c43b57340284.png" alt="TBTerminal" width="700" height="400" />

### **QQ交流群：564385877**

<img src="https://user-images.githubusercontent.com/83346523/146651068-3c2b3401-8c87-4ff3-beb4-a86492ea6bef.png" alt="QQ群二维码" width="300" height="300" />

### **特别说明：**

AuthCode、AppID认证信息任意填，不作校验

Broker任意填，填什么就回什么

### **咨询服务：**
需要C/C++、Python、Java、Go、CTPAPI、交易系统等相关技术咨询服务的，请在openctp公众号回复”咨询“两个字。
### **招聘服务：**
需要C/C++、量化交易、互联网等方面的人才或职位请在openctp公众号回复“找工作”三个字，通过openctp推荐工作将免费得到openctp咨询服务（价值1000元/年）。
### **活动：**
openctp每个月至少会有一次粉丝线下活动，可以是吃饭、喝茶、徒步等等，想参加的请在openctp公众号回复“活动”两个字。
### **培训：**
年轻时投资自己是最划算的，因为时间比任何东西都值钱，借别人的力量充实自己，在很短的时间内获得别人的经验值。

<u>*本模拟平台不对模拟结果作任何保证，依据本平台测试结果进行实盘交易的后果完全由使用者自己承担。*</u>
